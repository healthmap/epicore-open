<div ng-include src="'header.html'"></div>
<div class="jumbotron dashboard">
    <div class="container">
        <h1>Send RFI</h1>
    </div>
</div>

<div class="wrapper dashboard form-style-2">
    <div class="container">
        <div class="row">
            <div id="form-container" class="col-xs-12 col-md-8">

                <div class="clear mb48">
                    <span style="float: left;"><h2 class="mb0 more-space">Step 3: Request Details</h2></span>
                    <span style="float: right;"><a href ng-click="clearRequest()" class="btn btn-transparent">Clear RFI</a></span>
                </div>

                <div class="form-group more-space">
                    <label class="mb0">Is this RFI a Verification or an Update? <i data-toggle="tooltip" class="hide tooltip-icon fa fa-info-circle" title="Select Verification if this is the first report of a PHE (or officially reported) or Update to gather additional details on an ongoing verified or officially confirmed PHE"></i></label>
                    <div class="more-space form-group">
                        <div class="radio">
                            <label class="radio"><input type="radio" ng-model="rfiData.purpose.purpose" value="V" ng-required="!goback && !rfiData.purpose.purpose" ng-click="checkPurpose();"> Verification (First Report of an Event)</label>
                        </div>
                        <div class="radio">
                            <label class="radio"> <input type="radio" ng-model="rfiData.purpose.purpose" value="U" ng-required="!goback && !rfiData.purpose.purpose" ng-click="checkPurpose();"> Update (Request for Information About a Verified Event)</label>
                        </div>
                    </div>

                    <div class="form-group more-space" ng-if="rfiData.purpose.purpose">
                        <label class="mb0">What Information are you Requesting?</label>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="causal_agent" ng-model="rfiData.purpose.causal_agent" ng-checked="rfiData.purpose.causal_agent"> <b>Causal Agent:</b>
                                <span ng-if="rfiData.purpose.purpose == 'V' ">Information on identified or hypothetical causal agent.</span>
                                <span ng-if="rfiData.purpose.purpose != 'V' ">Update on identified or hypothetical causal agent.</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="epidemiology" ng-model="rfiData.purpose.epidemiology" ng-checked="rfiData.purpose.epidemiology"> <strong>Epidemiology:</strong>
                                <span ng-if="rfiData.purpose.purpose == 'V' ">Information on the epidemiology including patterns of disease transmission and incubation period.</span>
                                <span ng-if="rfiData.purpose.purpose != 'V' ">Update on disease epidemiology including patterns of transmission and incubation period.</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="pop_affected" ng-model="rfiData.purpose.pop_affected" ng-checked="rfiData.purpose.pop_affected" > <b>Population Affected:</b>
                                <span ng-if="rfiData.purpose.purpose == 'V' ">Information on involved population (e.g. human/animal) or specific community.</span>
                                <span ng-if="rfiData.purpose.purpose != 'V' ">Update on involved population (e.g. human/animal) or specific community.</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="location" ng-model="rfiData.purpose.location" ng-checked="rfiData.purpose.location"> <b>Location:</b>
                                <span ng-if="rfiData.purpose.purpose == 'V' ">Information on location of cases or locations at risk for disease spread.</span>
                                <span ng-if="rfiData.purpose.purpose != 'V' ">Update in terms of geographical spread or new locations in general.</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="size" ng-model="rfiData.purpose.size" ng-checked="rfiData.purpose.size"> <b>Size:</b>
                                <span ng-if="rfiData.purpose.purpose == 'V' ">Information on number of cases (suspected, confirmed, fatalities etc).</span>
                                <span ng-if="rfiData.purpose.purpose != 'V' ">Update in terms of number of cases (suspected, confirmed, fatalities etc).</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="test" ng-model="rfiData.purpose.test" ng-checked="rfiData.purpose.test"> <b>Test Results:</b>
                                <span ng-if="rfiData.purpose.purpose == 'V' ">Information on test results.</span>
                                <span ng-if="rfiData.purpose.purpose != 'V' ">Update on test results.</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label > <input type="checkbox" name="other_category" ng-model="rfiData.purpose.other_category" ng-checked="rfiData.purpose.other_category"> <b>Other</b>
                            </label>
                        </div>
                        <div ng-if="rfiData.purpose.other_category">
                            <input type="text" class="form-control" ng-model="rfiData.purpose.other" name="other" id="other" placeholder='Enter the other information you are requesting' value="" ng-required="rfiData.purpose.other_category">
                        </div>
                        <span class="error" >{{purpose_error_message1}}</span>

                    </div>


                    <div class="form-group more-space">
                        <label>Your Message To Responders</label>
                        <p class="mb8">Please add a personalized message to responders requesting specific information.</p>
                        <input type="text" class="form-control" ng-model="rfiData.additionalText" name="additionalText" id="additionalText" value="" >
                    </div>

                    <div class="form-group clear">
                        <button ng-click="saveStep3('back')" type="submit" class="submit btn btn-secondary btn-color-secondary pull-left btn-auto-width">Back</button>
                        <button ng-click="saveStep3('next')" type="submit" class="submit btn btn-primary pull-right btn-auto-width">Review and Send</button>
                    </div>
                    <span class="error">{{purpose_error_message}}</span>

                </div>

            </div><!--col-->
        </div><!--row-->

    </div><!--container-->
</div><!--wrapper-->
<script>
// TOOLTIP
$('[data-toggle="tooltip"]').tooltip( {html: true,trigger:'hover'});

</script>
